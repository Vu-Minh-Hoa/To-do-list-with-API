(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{20:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var o,c=n(0),r=n.n(c),a=n(9),s=n.n(a),i=(n(20),n(21),n(15)),d=n(3),l=n(7),u=n(5),p=n.n(u),f=n(8),b=n(6),j=Object(b.b)("todos/getTodosAsync",Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:7000/todos");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",{todos:n});case 8:case"end":return e.stop()}}),e)})))),m=Object(b.b)("todos/addTodoAsync",function(){var e=Object(f.a)(p.a.mark((function e(t){var n,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:7000/todos",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({title:t.title})});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return o=e.sent,e.abrupt("return",{todo:o});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=Object(b.b)("todos/completeTodoAsync",function(){var e=Object(f.a)(p.a.mark((function e(t){var n,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:7000/todos/".concat(t.id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({completed:t.completed})});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return o=e.sent,e.abrupt("return",{id:o.id,completed:o.completed});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(b.b)("todos/deleteTodoAsync",function(){var e=Object(f.a)(p.a.mark((function e(t){var n,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:7000/todos/".concat(t.id),{method:"DELETE"});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return o=e.sent,e.abrupt("return",{id:o.id,completed:o.completed});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(b.b)("todos/deleteCompletedTodoAsync",Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:7000/todos/",{method:"PATCH"});case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",{id:n.id,completed:n.completed});case 8:case"end":return e.stop()}}),e)})))),y=Object(b.c)({name:"todos",initialState:[{id:1,title:"todo1",completed:!1},{id:2,title:"todo2",completed:!1},{id:3,title:"todo3",completed:!0}],reducers:{addToDo:function(e,t){var n={id:Object(b.d)(),title:t.payload.title,completed:!1};e.push(n)},toggleComplete:function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));e[n].completed=t.payload.completed},deleteToDo:function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))},deleteCompletedToDo:function(e,t){return e.filter((function(e){return!1===e.completed}))}},extraReducers:(o={},Object(l.a)(o,j.fulfilled,(function(e,t){return t.payload.todos})),Object(l.a)(o,m.fulfilled,(function(e,t){e.push(t.payload.todo)})),Object(l.a)(o,h.fulfilled,(function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));e[n].completed=t.payload.completed})),Object(l.a)(o,O.fulfilled,(function(e,t){console.log(e),e.filter((function(e){return e.id!==t.payload.id})),console.log(e)})),Object(l.a)(o,x.fulfilled,(function(e,t){e.filter((function(e){return!1===e.completed})),console.log(e)})),o)}),v=y.actions,k=v.addToDo,g=v.toggleComplete,T=v.deleteToDo,N=v.deleteCompletedToDo,w=y.reducer,C=n(1),D=function(){var e=Object(c.useRef)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),o=n[0],r=n[1],a=Object(d.b)();return Object(C.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a(m({title:o})),a(k({title:o})),r(""),e.current.focus()},className:"form-inline mt-3 mb-3",children:[Object(C.jsx)("label",{className:"sr-only",children:"Name"}),Object(C.jsx)("input",{ref:e,type:"text",className:"form-control mb-2 mr-sm-2",placeholder:"Add todo...",value:o,onChange:function(e){return r(e.target.value)}}),Object(C.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Submit"})]})},A=function(e){var t=e.id,n=e.title,o=e.completed,c=Object(d.b)();return Object(C.jsx)("li",{className:"list-group-item ".concat(o&&"list-group-item-success"),children:Object(C.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(C.jsxs)("span",{className:"d-flex align-items-center",children:[Object(C.jsx)("input",{type:"checkbox",className:"mr-3",checked:o,onClick:function(){c(h({id:t,completed:!o})),c(g({id:t,completed:!o}))}}),n]}),Object(C.jsx)("button",{className:"btn btn-danger",onClick:function(){c(O({id:t})),c(T({id:t}))},children:"Delete"})]})})},S=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.todos}));return Object(c.useEffect)((function(){e(j())}),[e]),Object(C.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(C.jsx)(A,{id:e.id,title:e.title,completed:e.completed},e.id)}))})},E=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.todos.filter((function(e){return!0===e.completed}))}));return Object(C.jsxs)("div",{className:"footer",children:[Object(C.jsxs)("h4",{className:"mt-3",children:["Total Completed Task: ",t.length]}),Object(C.jsx)("button",{className:"btn btn-danger delete-all-btn",onClick:function(){e(x()),e(N())},children:"Delete"})]})},J=function(){return Object(C.jsxs)("div",{className:"container bg-white p-4 mt-5",children:[Object(C.jsx)("h1",{children:"My Todo List"}),Object(C.jsx)(D,{}),Object(C.jsx)(S,{}),Object(C.jsx)(E,{})]})},I=Object(b.a)({reducer:{todos:w}});s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(d.a,{store:I,children:Object(C.jsx)(J,{})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.f9707288.chunk.js.map